<!DOCTYPE html>
<html>
<head>
    <title>Community Directory - CODE Network</title>
    <link rel="stylesheet" href="/public/css/style.css" />
</head>
<body>
    <!-- Top Navigation -->
    <nav class="top-nav">
        <div class="nav-brand">CODE Network</div>
        <div class="nav-links">
            <a href="/">Home</a>
            <a href="/network" class="active">View Network</a>
            <a href="/add-contact">Add Contact</a>
            <a href="/guide">Guide</a>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
        <h1 class="page-title">Community Directory</h1>
        <p class="page-subtitle">A trusted list of speakers, mentors, and hiring leads for CODE.</p>
        <p class="page-description">
            <strong>How to use:</strong> Search by name, role, company, or tag. Open a profile to see notes, last interaction, and suggested next actions.
        </p>
    </section>

    <!-- Search and Filter Section -->
    <section class="search-section">
        <div class="search-container">
            <input type="text" class="search-box" placeholder="üîç Search by name, role, company, or tag..." />
            <div class="filter-tags">
                <span class="filter-tag">All</span>
                <span class="filter-tag">Speakers</span>
                <span class="filter-tag">Mentors</span>
                <span class="filter-tag">Hiring Leads</span>
                <span class="filter-tag">Alumni</span>
            </div>
        </div>
    </section>

    <!-- Info Boxes -->
    <section class="network-info">
        <div class="info-box">
            <h4>üí° Value Notes</h4>
            <p>Each profile includes why they're valuable to CODE and suggested use cases (talk, mentoring, internship).</p>
        </div>
        <div class="info-box">
            <h4>‚≠ê Quality Signals</h4>
            <p>Relationship strength, last touched date, mutual connections, and event history.</p>
        </div>
        <div class="info-box">
            <h4>üîí Privacy</h4>
            <p>Sensitive details are hidden by default; share only with consent.</p>
        </div>
    </section>

    <!-- Contacts List -->
    <section class="contacts-section">
        <div class="contacts-header">
            <h2>Directory ({{ contacts|length }} contacts)</h2>
            <a href="/add-contact" class="btn btn-primary btn-small">+ Add Contact</a>
        </div>

        {% if contacts %}
            <!-- Contacts Table -->
            <div class="contacts-table">
                <div class="table-header">
                    <div class="col-name">Name & Company</div>
                    <div class="col-value">Why Valuable</div>
                    <div class="col-tags">Tags</div>
                    <div class="col-contact">Contact</div>
                    <div class="col-actions">Actions</div>
                </div>

                {% for contact in contacts %}
                <div class="contact-row">
                    <div class="col-name">
                        <h3 class="contact-name">{{ contact.first_name }} {{ contact.last_name }}</h3>
                        {% if contact.position and contact.company %}
                        <p class="contact-role">{{ contact.position }} at {{ contact.company }}</p>
                        {% elif contact.position %}
                        <p class="contact-role">{{ contact.position }}</p>
                        {% elif contact.company %}
                        <p class="contact-role">{{ contact.company }}</p>
                        {% endif %}
                    </div>

                    <div class="col-value">
                        {% if contact.value_description %}
                        <p class="value-note">{{ contact.value_description }}</p>
                        {% else %}
                        <p class="value-note placeholder">No description yet</p>
                        {% endif %}
                    </div>

                    <div class="col-tags">

                        {% if contact.tags %}
                            {% for tag in contact.tags.split(',') %}
                                <span class="tag tag-{{ tag.lower().replace(' ', '-') }}">{{ tag }}</span>
                            {% endfor %}
                        {% else %}
                            <span class="tag tag-default">No tags</span>
                        {% endif %}
                    </div>

                    <div class="col-contact">
                        {% if contact.linkedin_url %}
                        <a href="{{ contact.linkedin_url }}" target="_blank" class="contact-link">üíº LinkedIn</a>
                        {% endif %}
                        {% if contact.email %}
                        <a href="mailto:{{ contact.email }}" class="contact-link">üìß Email</a>
                        {% endif %}
                    </div>

                    <div class="col-actions">
                        <a href="{{ url_for('edit_contact_form', contact_id=contact.id) }}" class="btn-edit">‚úèÔ∏è Edit</a>
                        <a href="{{ url_for('delete_contact', contact_id=contact.id) }}" 
                           class="btn-delete" 
                           onclick="return confirm('Are you sure you want to delete {{ contact.first_name }} {{ contact.last_name }}?')">
                           üóëÔ∏è Delete
                        </a>
                    </div>
                </div>
                {% endfor %}
            </div>

        {% else %}
            <!-- Empty State -->
            <div class="empty-state">
                <div class="empty-icon">üì≠</div>
                <h3>No contacts yet</h3>
                <p>Add your first contact to start building the network.</p>
                <a href="/add-contact" class="btn btn-primary">Add Your First Contact</a>
            </div>
        {% endif %}
    </section>

    <!-- Action Strip (for future features) -->
    <section class="action-strip">
        <p class="action-hint">
            <strong>üí° Pro tip:</strong> Select contacts to tag, assign a follow‚Äëup, start an email/LinkedIn draft, or export.
        </p>
    </section>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 CODE Network. Built for the CODE community.</p>
    </footer>
</body>
</html>

